{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Floyd",
	"scopeName": "source.floyd",
	"patterns": [
		{
			"include": "#statement"
		},
		{
			"include": "#expression"
		}
	],
	"repository": {
		"statement": {
			"patterns": [
				{
					"include": "#preprocessor-directive"
				},
				{
					"include": "#class-declaration"
				},
				{
					"include": "#function-declaration"
				},
				{
					"include": "#statement-keyword"
				},
				{
					"include": "#assignment-operator"
				}
			]
		},
		"expression": {
			"patterns": [
				{
					"include": "#expression-base"
				},
				{
					"include": "#member-access"
				}
			]
		},
		"class-declaration": {
			"patterns": [
				{
					"name": "meta.class.floyd",
					"begin": "\\s*(class)\\s+(?=[a-zA-Z_][a-zA-Z0-9_]*\\s*:\\s*[a-zA-Z_][a-zA-Z0-9_]*\\s*({))",
					"end": "({)",
					"beginCaptures": {
						"1": {
							"name": "storage.type.class.floyd"
						}
					},
					"endCaptures": {
						"1": {
							"name": "punctuation.section.class.begin.floyd"
						}
					},
					"patterns": [
						{
							"include": "#class-name"
						},
						{
							"include": "#class-inheritance"
						}
					]
				}
			]
		},
		"class-name": {
			"patterns": [
				{
					"name": "entity.name.type.class.floyd",
					"match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b"
				}
			]
		},
		"class-inheritance": {
			"patterns": [
				{
					"name": "meta.class.inheritance.floyd",
					"begin": "(:)\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b",
					"end": "(\\s|{)",
					"captures": {
						"1": {
							"name": "punctuation.definition.inheritance.floyd"
						},
						"2": {
							"name": "entity.other.inherited-class.floyd"
						}
					}
				}
			]
		}
	}
}
